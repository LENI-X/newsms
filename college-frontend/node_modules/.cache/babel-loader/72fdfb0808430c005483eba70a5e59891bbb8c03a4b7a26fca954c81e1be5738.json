{"ast":null,"code":"var _jsxFileName = \"D:\\\\rimssms\\\\college-frontend\\\\src\\\\components\\\\EditStudentModal.js\",\n  _s = $RefreshSig$();\n// src/components/EditStudentModal.js\nimport React, { useState, useEffect } from 'react';\nimport axios from '../api/axiosConfig.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditStudentModal({\n  show,\n  onClose,\n  student,\n  onStudentUpdated\n}) {\n  _s();\n  // State to manage the form data\n  const [formData, setFormData] = useState({\n    full_name: '',\n    course: '',\n    semester: ''\n  });\n\n  // This effect runs when the 'student' prop changes.\n  // It populates the form with the data of the student being edited.\n  useEffect(() => {\n    if (student) {\n      setFormData({\n        full_name: student.full_name,\n        course: student.course,\n        semester: student.semester\n      });\n    }\n  }, [student]);\n\n  // Handler for input changes\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n\n  // Handler for form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!student) return;\n    try {\n      // Send a PUT request to update the student data\n      const response = await axios.put(`http://127.0.0.1:8000/api/students/${student.roll_number}/`, {\n        ...formData,\n        // Send the updated form data\n        roll_number: student.roll_number // Roll number is not editable but must be sent\n      });\n      onStudentUpdated(response.data); // Notify the parent component of the update\n      onClose(); // Close the modal\n      alert('Student updated successfully!');\n    } catch (error) {\n      console.error('Error updating student:', error);\n      alert('Error updating student.');\n    }\n  };\n  if (!show) {\n    return null; // Don't render anything if the modal is not shown\n  }\n\n  // Basic styling for the modal\n  const modalStyle = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  };\n  const modalContentStyle = {\n    backgroundColor: 'white',\n    padding: '20px',\n    borderRadius: '5px',\n    width: '400px'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: modalStyle,\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: modalContentStyle,\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Edit Student: \", student.roll_number]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"full_name\",\n            value: formData.full_name,\n            onChange: handleChange,\n            required: true,\n            style: {\n              width: '95%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 34\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"course\",\n            value: formData.course,\n            onChange: handleChange,\n            required: true,\n            style: {\n              width: '95%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Semester\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"semester\",\n            value: formData.semester,\n            onChange: handleChange,\n            required: true,\n            style: {\n              width: '95%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onClose,\n          style: {\n            marginLeft: '10px'\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(EditStudentModal, \"LjC4WFJIJQum8X2TmArdSFKaMVk=\");\n_c = EditStudentModal;\nexport default EditStudentModal;\nvar _c;\n$RefreshReg$(_c, \"EditStudentModal\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","EditStudentModal","show","onClose","student","onStudentUpdated","_s","formData","setFormData","full_name","course","semester","handleChange","e","name","value","target","prevData","handleSubmit","preventDefault","response","put","roll_number","data","alert","error","console","modalStyle","position","top","left","width","height","backgroundColor","display","alignItems","justifyContent","modalContentStyle","padding","borderRadius","style","onClick","children","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","marginBottom","type","onChange","required","marginLeft","_c","$RefreshReg$"],"sources":["D:/rimssms/college-frontend/src/components/EditStudentModal.js"],"sourcesContent":["// src/components/EditStudentModal.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from '../api/axiosConfig.js';\r\n\r\nfunction EditStudentModal({ show, onClose, student, onStudentUpdated }) {\r\n  // State to manage the form data\r\n  const [formData, setFormData] = useState({ full_name: '', course: '', semester: '' });\r\n\r\n  // This effect runs when the 'student' prop changes.\r\n  // It populates the form with the data of the student being edited.\r\n  useEffect(() => {\r\n    if (student) {\r\n      setFormData({\r\n        full_name: student.full_name,\r\n        course: student.course,\r\n        semester: student.semester,\r\n      });\r\n    }\r\n  }, [student]);\r\n\r\n  // Handler for input changes\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prevData => ({ ...prevData, [name]: value }));\r\n  };\r\n\r\n  // Handler for form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!student) return;\r\n\r\n    try {\r\n      // Send a PUT request to update the student data\r\n      const response = await axios.put(`http://127.0.0.1:8000/api/students/${student.roll_number}/`, {\r\n        ...formData, // Send the updated form data\r\n        roll_number: student.roll_number // Roll number is not editable but must be sent\r\n      });\r\n      onStudentUpdated(response.data); // Notify the parent component of the update\r\n      onClose(); // Close the modal\r\n      alert('Student updated successfully!');\r\n    } catch (error) {\r\n      console.error('Error updating student:', error);\r\n      alert('Error updating student.');\r\n    }\r\n  };\r\n\r\n  if (!show) {\r\n    return null; // Don't render anything if the modal is not shown\r\n  }\r\n\r\n  // Basic styling for the modal\r\n  const modalStyle = {\r\n    position: 'fixed', top: 0, left: 0, width: '100%', height: '100%',\r\n    backgroundColor: 'rgba(0,0,0,0.5)', display: 'flex',\r\n    alignItems: 'center', justifyContent: 'center'\r\n  };\r\n  const modalContentStyle = {\r\n    backgroundColor: 'white', padding: '20px', borderRadius: '5px', width: '400px'\r\n  };\r\n\r\n  return (\r\n    <div style={modalStyle} onClick={onClose}>\r\n      <div style={modalContentStyle} onClick={e => e.stopPropagation()}>\r\n        <h2>Edit Student: {student.roll_number}</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div style={{ marginBottom: '10px' }}>\r\n            <label>Full Name</label><br/>\r\n            <input type=\"text\" name=\"full_name\" value={formData.full_name} onChange={handleChange} required style={{width: '95%'}} />\r\n          </div>\r\n          <div style={{ marginBottom: '10px' }}>\r\n            <label>Course</label><br/>\r\n            <input type=\"text\" name=\"course\" value={formData.course} onChange={handleChange} required style={{width: '95%'}} />\r\n          </div>\r\n          <div style={{ marginBottom: '10px' }}>\r\n            <label>Semester</label><br/>\r\n            <input type=\"number\" name=\"semester\" value={formData.semester} onChange={handleChange} required style={{width: '95%'}} />\r\n          </div>\r\n          <button type=\"submit\">Save Changes</button>\r\n          <button type=\"button\" onClick={onClose} style={{ marginLeft: '10px' }}>Cancel</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditStudentModal;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,SAASC,gBAAgBA,CAAC;EAAEC,IAAI;EAAEC,OAAO;EAAEC,OAAO;EAAEC;AAAiB,CAAC,EAAE;EAAAC,EAAA;EACtE;EACA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC;IAAEa,SAAS,EAAE,EAAE;IAAEC,MAAM,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAG,CAAC,CAAC;;EAErF;EACA;EACAd,SAAS,CAAC,MAAM;IACd,IAAIO,OAAO,EAAE;MACXI,WAAW,CAAC;QACVC,SAAS,EAAEL,OAAO,CAACK,SAAS;QAC5BC,MAAM,EAAEN,OAAO,CAACM,MAAM;QACtBC,QAAQ,EAAEP,OAAO,CAACO;MACpB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACP,OAAO,CAAC,CAAC;;EAEb;EACA,MAAMQ,YAAY,GAAIC,CAAC,IAAK;IAC1B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCR,WAAW,CAACS,QAAQ,KAAK;MAAE,GAAGA,QAAQ;MAAE,CAACH,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;EAC3D,CAAC;;EAED;EACA,MAAMG,YAAY,GAAG,MAAOL,CAAC,IAAK;IAChCA,CAAC,CAACM,cAAc,CAAC,CAAC;IAClB,IAAI,CAACf,OAAO,EAAE;IAEd,IAAI;MACF;MACA,MAAMgB,QAAQ,GAAG,MAAMtB,KAAK,CAACuB,GAAG,CAAC,sCAAsCjB,OAAO,CAACkB,WAAW,GAAG,EAAE;QAC7F,GAAGf,QAAQ;QAAE;QACbe,WAAW,EAAElB,OAAO,CAACkB,WAAW,CAAC;MACnC,CAAC,CAAC;MACFjB,gBAAgB,CAACe,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAC;MACjCpB,OAAO,CAAC,CAAC,CAAC,CAAC;MACXqB,KAAK,CAAC,+BAA+B,CAAC;IACxC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/CD,KAAK,CAAC,yBAAyB,CAAC;IAClC;EACF,CAAC;EAED,IAAI,CAACtB,IAAI,EAAE;IACT,OAAO,IAAI,CAAC,CAAC;EACf;;EAEA;EACA,MAAMyB,UAAU,GAAG;IACjBC,QAAQ,EAAE,OAAO;IAAEC,GAAG,EAAE,CAAC;IAAEC,IAAI,EAAE,CAAC;IAAEC,KAAK,EAAE,MAAM;IAAEC,MAAM,EAAE,MAAM;IACjEC,eAAe,EAAE,iBAAiB;IAAEC,OAAO,EAAE,MAAM;IACnDC,UAAU,EAAE,QAAQ;IAAEC,cAAc,EAAE;EACxC,CAAC;EACD,MAAMC,iBAAiB,GAAG;IACxBJ,eAAe,EAAE,OAAO;IAAEK,OAAO,EAAE,MAAM;IAAEC,YAAY,EAAE,KAAK;IAAER,KAAK,EAAE;EACzE,CAAC;EAED,oBACE/B,OAAA;IAAKwC,KAAK,EAAEb,UAAW;IAACc,OAAO,EAAEtC,OAAQ;IAAAuC,QAAA,eACvC1C,OAAA;MAAKwC,KAAK,EAAEH,iBAAkB;MAACI,OAAO,EAAE5B,CAAC,IAAIA,CAAC,CAAC8B,eAAe,CAAC,CAAE;MAAAD,QAAA,gBAC/D1C,OAAA;QAAA0C,QAAA,GAAI,gBAAc,EAACtC,OAAO,CAACkB,WAAW;MAAA;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC5C/C,OAAA;QAAMgD,QAAQ,EAAE9B,YAAa;QAAAwB,QAAA,gBAC3B1C,OAAA;UAAKwC,KAAK,EAAE;YAAES,YAAY,EAAE;UAAO,CAAE;UAAAP,QAAA,gBACnC1C,OAAA;YAAA0C,QAAA,EAAO;UAAS;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAA/C,OAAA;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC7B/C,OAAA;YAAOkD,IAAI,EAAC,MAAM;YAACpC,IAAI,EAAC,WAAW;YAACC,KAAK,EAAER,QAAQ,CAACE,SAAU;YAAC0C,QAAQ,EAAEvC,YAAa;YAACwC,QAAQ;YAACZ,KAAK,EAAE;cAACT,KAAK,EAAE;YAAK;UAAE;YAAAa,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtH,CAAC,eACN/C,OAAA;UAAKwC,KAAK,EAAE;YAAES,YAAY,EAAE;UAAO,CAAE;UAAAP,QAAA,gBACnC1C,OAAA;YAAA0C,QAAA,EAAO;UAAM;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAA/C,OAAA;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC1B/C,OAAA;YAAOkD,IAAI,EAAC,MAAM;YAACpC,IAAI,EAAC,QAAQ;YAACC,KAAK,EAAER,QAAQ,CAACG,MAAO;YAACyC,QAAQ,EAAEvC,YAAa;YAACwC,QAAQ;YAACZ,KAAK,EAAE;cAACT,KAAK,EAAE;YAAK;UAAE;YAAAa,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChH,CAAC,eACN/C,OAAA;UAAKwC,KAAK,EAAE;YAAES,YAAY,EAAE;UAAO,CAAE;UAAAP,QAAA,gBACnC1C,OAAA;YAAA0C,QAAA,EAAO;UAAQ;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAA/C,OAAA;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC5B/C,OAAA;YAAOkD,IAAI,EAAC,QAAQ;YAACpC,IAAI,EAAC,UAAU;YAACC,KAAK,EAAER,QAAQ,CAACI,QAAS;YAACwC,QAAQ,EAAEvC,YAAa;YAACwC,QAAQ;YAACZ,KAAK,EAAE;cAACT,KAAK,EAAE;YAAK;UAAE;YAAAa,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtH,CAAC,eACN/C,OAAA;UAAQkD,IAAI,EAAC,QAAQ;UAAAR,QAAA,EAAC;QAAY;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC3C/C,OAAA;UAAQkD,IAAI,EAAC,QAAQ;UAACT,OAAO,EAAEtC,OAAQ;UAACqC,KAAK,EAAE;YAAEa,UAAU,EAAE;UAAO,CAAE;UAAAX,QAAA,EAAC;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACzC,EAAA,CA/EQL,gBAAgB;AAAAqD,EAAA,GAAhBrD,gBAAgB;AAiFzB,eAAeA,gBAAgB;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}